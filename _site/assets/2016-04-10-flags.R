## ------------------------------------------------------------------------
library(oce)
data(section)
Sflag <- section[['salinityFlag']]

## ------------------------------------------------------------------------
table(Sflag)

## ------------------------------------------------------------------------
S <- section[['salinity']]
T <- section[['temperature']]
theta <- section[['theta']]
p <- section[['pressure']]
Sflag <- section[['salinityFlag']]

## ------------------------------------------------------------------------
plot(S, Sflag, pch=Sflag-1)

## ------------------------------------------------------------------------
plotTS(as.ctd(S, T, p), pch=Sflag-1)

## ------------------------------------------------------------------------
ok <- Sflag == 2
plotTS(as.ctd(S[ok], T[ok], p[ok]))

## ------------------------------------------------------------------------
section2 <- handleFlags(section)
plotTS(section2)

## ------------------------------------------------------------------------
plot(section, which="salinity")

## ------------------------------------------------------------------------
plot(section2, which="salinity")

