<!DOCTYPE HTML>
<html>
<head>
<link rel='stylesheet' type='text/css' href='/css/syntax.css' />
<link rel='stylesheet' type='text/css' href='/css/style.css' />
<meta charset="UTF-8">
<title>Valentines-day full moon</title>
</head>

<body>
<div class="navbar">
    <!-- <div class="navbar-inner"> -->
        <!-- <a class="brand" href="/index.html">Dan Kelley</a> -->
        <!-- <div class="nav">Dan Kelley</div> -->
        <ul class="navbar">
            
            <li><a href="/index.html">Dan Kelley</a></li>
            

            
            <li><a href="/papers.html">Papers</a></li>
            

            
            <li><a href="/book.html">Book</a></li>
            

            
            <li><a href="/software.html">Software</a></li>
            
            
            <li><a class="highlight" href="/blog">Blog</a></li>
            

        </ul>
        <!-- </div> -->
</div>

<div id="content">
    




<!-- <div class="span8"> -->

<div class=topnav>

<a class="pagination" href="/r/2014/02/17/demodulation.html" title="demodulating time series">
    Next <!-- &rarr; -->
</a>

<!-- | <a href='/blog'>Home</a> | -->

<a class="pagination" href="/r/2014/02/11/oce_runlm.html" title="oce runlm function">
    <!-- &larr; --> Previous
</a>

</div> <!-- topnav -->


<div class="page-header">

    <div class=post_title>Valentines-day full moon</div>
<!-- </div> --> <!-- span8 -->

<!-- <div class="span4"> -->

<div class=slug>
    <span class=post_date>
        Feb 13, 2014
    </span> <!-- post_date -->
    <span class=post_tags>
        
        <a href="/tags/R/index.html" class="tag">
            R
        </a>
         &#183; 
        
        <a href="/tags/astronomy/index.html" class="tag">
            astronomy
        </a>
         &#183; 
        
        <a href="/tags/romance/index.html" class="tag">
            romance
        </a>
        
        
    </span> <!-- post_date -->
    <div class=post_summary>
        There will be a full moon on Valentine's Day this year.  How common is that?
    </div> <!-- post_summary -->
</div> <!-- slug -->

<!-- </div> -->
<!-- span4 -->
</div> <!-- page-header -->



<h1 id="introduction">Introduction</h1>

<p>A wise person told me that it will be a full moon on the upcoming Valentine’s Day, but that it will be a long time until another one.  I decided to check this with astronomical calculation.</p>

<h1 id="procedure">Procedure</h1>

<p>The Oce package has a function called <code>moonAngle()</code> that returns, among other things, the illuminated fraction of the moon visible at any given time.  This can be used to test for a full moon on Valentine’s day.</p>

<p>The first step is to construct the times of Valentine’s days, starting with the one this year.  Then the illuminated fraction can be calculated (here, for Halifax, the lover’s capital of Canada), and that fraction can be plotted for each of the next fifty years, with red dots for the romantic times, and blue ones for the so-sad ones.</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="r">1
2
3
4
5
6</code></pre></div></td><td class="code"><div class="highlight"><pre>times <span class="o">&lt;-</span> seq<span class="p">(</span>as.POSIXct<span class="p">(</span><span class="s">&quot;2014-02-14&quot;</span><span class="p">,</span> tz<span class="o">=</span><span class="s">&quot;UTC&quot;</span><span class="p">),</span> length.out<span class="o">=</span><span class="m">50</span><span class="p">,</span> by<span class="o">=</span><span class="s">&quot;year&quot;</span><span class="p">)</span>
library<span class="p">(</span>oce<span class="p">)</span>
fraction <span class="o">&lt;-</span> moonAngle<span class="p">(</span>times<span class="p">,</span> lon<span class="o">=</span><span class="m">-63</span><span class="p">,</span> lat<span class="o">=</span><span class="m">43</span><span class="p">)</span><span class="o">$</span>illuminatedFraction
full <span class="o">&lt;-</span> fraction <span class="o">&gt;</span> <span class="m">0.99</span>
plot<span class="p">(</span>times<span class="p">,</span> fraction<span class="p">,</span> xlab<span class="o">=</span><span class="s">&quot;Year&quot;</span><span class="p">,</span> ylab<span class="o">=</span><span class="s">&quot;Moon Illuminated Fraction&quot;</span><span class="p">,</span>
     col<span class="o">=</span>ifelse<span class="p">(</span>full<span class="p">,</span> <span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="s">&quot;blue&quot;</span><span class="p">),</span> pch<span class="o">=</span><span class="m">16</span><span class="p">,</span> cex<span class="o">=</span><span class="m">2</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p><img src="http://dankelley.github.io/figs/2014-02-13-valentine-moon/valentines-1.png" alt="center" /> </p>

<p>Here, red has been used to indicate years with full moon on Valentine’s Day, and sad blue otherwise.</p>

<h1 id="results">Results</h1>

<p>It will be a long time until the next full moon on Valentine’s Day:</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="r">1</code></pre></div></td><td class="code"><div class="highlight"><pre>times<span class="p">[</span>full<span class="p">]</span>
</pre></div>
</td></tr></table>

<div class="highlight"><pre><code class="text">## [1] &quot;2014-02-14 UTC&quot; &quot;2033-02-14 UTC&quot; &quot;2044-02-14 UTC&quot; &quot;2052-02-14 UTC&quot;
## [5] &quot;2063-02-14 UTC&quot;</code></pre></div>

<h1 id="conclusions">Conclusions</h1>

<ul>
  <li>Buy candy now.</li>
</ul>

<h1 id="resources">Resources</h1>

<ul>
  <li>R source code used here: <a href="/assets/2014-02-13-valentine-moon.R">2014-02-13-valentine-moon.R</a></li>
  <li>Jekyll source code for this blog entry: <a href="https://raw.github.com/dankelley/dankelley.github.io/master/assets/2014-02-13-valentine-moon.Rmd">2014-02-13-valentine-moon.Rmd</a></li>
</ul>


<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'dankelleydalhousie'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
 dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>

<p class="footnote">This website is written in <a
href="http://jekyllrb.com">Jekyll</a>, and the source is available on <a
href="https://github.com/dankelley/dankelley.github.io">GitHub</a>.</p>

</body>
</html>

